---
---

<section
  id="experience-section"
  class="relative w-full bg-primary flex flex-col items-center justify-center mb-20 pb-14"
>
  <div
    id="experience-content"
    class="w-full grid max-w-[1280px] gap-8 py-10 px-5 mx-auto rounded-lg md:px-12 lg:px-16 xl:px-32 bg-transparent text-gray-100 transition-all duration-1000 opacity-0 translate-y-52"
  >
    <h2 class="text-zinc-500 w-full">&#47;&#47; Experience</h2>
    <div
      class="w-full flex flex-col sm:flex-row justify-start gap-5 items-start mt-10 overflow-hidden"
    >
      <div class="w-full h-fit max-w-full sm:max-w-[220px] overflow-x-auto">
        <div class="relative w-fit max-w-fit sm:min-w-[220px] sm:max-w-[220px] sm:w-[220px] flex flex-row overflow-x-scroll hidden-scrollbar sm:overflow-hidden overflow-y-hidden sm:flex-col items-start text-white/80">
          <!-- Modern pill indicator -->
          <div
            id="tab-pill"
            class="hidden sm:block absolute left-0 right-0 h-11 rounded-xl bg-gradient-to-r from-secondary/20 to-tertiary/20 backdrop-blur-sm border border-secondary/30 shadow-lg"
            style="transform: translateY(var(--pill-top, 0px)); transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);"
          ></div>
          <h2 class="relative text-tertiary px-5 py-2 before:absolute before:top-0 before:left-0.5 before:content-['▹'] before:text-tertiary before:mt-2">
            Experience
          </h2>
          <button
            class="tab-button py-2.5 w-fit sm:w-full text-left px-4 sm:px-4 rounded-xl transition-all duration-300 whitespace-nowrap overflow-hidden overflow-ellipsis max-w-fit sm:max-w-full text-white font-medium relative z-10 cursor-pointer"
            data-tab="0"
            role="tab"
            aria-selected="true"
            aria-controls="tab-panel-0"
            id="tab-0"
          >
            Kraken
          </button>
          <button
            class="tab-button py-2.5 w-fit sm:w-full text-left px-4 sm:px-4 rounded-xl transition-all duration-300 whitespace-nowrap overflow-hidden overflow-ellipsis max-w-fit sm:max-w-full text-white/70 hover:text-white font-medium relative z-10 cursor-pointer"
            data-tab="1"
            role="tab"
            aria-selected="false"
            aria-controls="tab-panel-1"
            id="tab-1"
          >
            Cars.com
          </button>
          <button
            class="tab-button py-2.5 w-fit sm:w-full text-left px-4 sm:px-4 rounded-xl transition-all duration-300 whitespace-nowrap overflow-hidden overflow-ellipsis max-w-fit sm:max-w-full text-white/70 hover:text-white font-medium relative z-10 cursor-pointer"
            data-tab="2"
            role="tab"
            aria-selected="false"
            aria-controls="tab-panel-2"
            id="tab-2"
          >
            MVPindex
          </button>
          <button
            class="tab-button py-2.5 w-fit sm:w-full text-left px-4 sm:px-4 rounded-xl transition-all duration-300 whitespace-nowrap overflow-hidden overflow-ellipsis max-w-fit sm:max-w-full text-white/70 hover:text-white font-medium relative z-10 cursor-pointer"
            data-tab="3"
            role="tab"
            aria-selected="false"
            aria-controls="tab-panel-3"
            id="tab-3"
          >
            ZEFR
          </button>
          <button
            class="tab-button py-2.5 w-fit sm:w-full text-left px-4 sm:px-4 rounded-xl transition-all duration-300 whitespace-nowrap overflow-hidden overflow-ellipsis max-w-fit sm:max-w-full text-white/70 hover:text-white font-medium relative z-10 cursor-pointer"
            data-tab="4"
            role="tab"
            aria-selected="false"
            aria-controls="tab-panel-4"
            id="tab-4"
          >
            Previous roles
          </button>
          <h2 class="relative text-tertiary px-5 py-2 before:absolute before:top-0 before:left-0.5 before:content-['▹'] before:text-tertiary before:mt-2 sm:mt-5">
            Education
          </h2>
          <button
            class="tab-button py-2.5 w-fit sm:w-full text-left px-4 sm:px-4 rounded-xl transition-all duration-300 whitespace-nowrap overflow-hidden overflow-ellipsis max-w-fit sm:max-w-full text-white/70 hover:text-white font-medium relative z-10 cursor-pointer"
            data-tab="5"
            role="tab"
            aria-selected="false"
            aria-controls="tab-panel-5"
            id="tab-5"
          >
            Machine Learning Engineering Bootcamp
          </button>
          <button
            class="tab-button py-2.5 w-fit sm:w-full text-left px-4 sm:px-4 rounded-xl transition-all duration-300 whitespace-nowrap overflow-hidden overflow-ellipsis max-w-fit sm:max-w-full text-white/70 hover:text-white font-medium relative z-10 cursor-pointer"
            data-tab="6"
            role="tab"
            aria-selected="false"
            aria-controls="tab-panel-6"
            id="tab-6"
          >
            DevMountain
          </button>
          <button
            class="tab-button py-2.5 w-fit sm:w-full text-left px-4 sm:px-4 rounded-xl transition-all duration-300 whitespace-nowrap overflow-hidden overflow-ellipsis max-w-fit sm:max-w-full text-white/70 hover:text-white font-medium relative z-10 cursor-pointer"
            data-tab="7"
            role="tab"
            aria-selected="false"
            aria-controls="tab-panel-7"
            id="tab-7"
          >
            Utah Valley University
          </button>
        </div>
      </div>

      <!-- Tab Content -->
      <div id="tab-content" class="w-full relative overflow-hidden" role="tabpanel" aria-live="polite">
        <!-- Kraken Tab -->
        <div class="tab-panel w-full p-4" data-tab="0" role="tabpanel" id="tab-panel-0" aria-labelledby="tab-0" style="transition: opacity 300ms ease-in-out; opacity: 1;">
          <h3>
            Senior Software Engineer
            <span class="text-sixth"> @ Kraken Digital Asset Exchange (Remote)</span>
          </h3>
          <p class="text-sm text-zinc-400 mt-1 mb-6">2021 - 2024</p>
          <ul class="relative pl-5 text-sm text-zinc-300 list-disc flex flex-col gap-4">
            <li>
              Reduced downtime by 2% and increased data throughput by 11% by
              engineering fault-tolerant data pipelines through Rust, Golang, and TypeScript.
            </li>
            <li>
              Cut message processing latency by optimizing Kafka-based data
              ingestion and processing to ensure 99.9% data delivery
              reliability.
            </li>
            <li>
              Decreased operational costs by 5% and improved scalability by
              architecting AWS infrastructure that supported data-intensive
              applications with 99.99% uptime.
            </li>
            <li>
              Developed analytics frameworks to enhance actionable insights
              extraction efficiency, drive data-driven decision-making, and
              improve product performance.
            </li>
            <li>
              Reduced bugs and improved code maintainability in Node.js
              projects by leading TypeScript adoption to accelerate feature
              delivery.
            </li>
            <li>
              Delivered resource savings by developing and implementing
              automation strategies to reduce manual intervention and
              improve workflow efficiency.
            </li>
            <li>
              Improved code coverage metrics by 17% and increased team
              productivity by fostering a culture of continuous improvement
              among junior engineers.
            </li>
            <li>
              Increased employee satisfaction by cultivating an inclusive
              environment and advocating for team cohesion and innovation.
            </li>
          </ul>

          <div class="w-full flex flex-wrap items-center mt-4 gap-2">
            <p class="text-xs bg-secondary/30 text-secondary rounded p-1 w-fit">
              Rust
            </p>
            <p class="text-xs bg-secondary/30 text-secondary rounded p-1 w-fit">
              Python
            </p>
            <p class="text-xs bg-secondary/30 text-secondary rounded p-1 w-fit">
              TypeScript
            </p>
          </div>
        </div>

        <!-- Cars.com Tab -->
        <div class="tab-panel w-full p-4 hidden" data-tab="1" role="tabpanel" id="tab-panel-1" aria-labelledby="tab-1" style="transition: opacity 300ms ease-in-out; opacity: 0;">
          <h3>
            Senior Software Engineer
            <span class="text-sixth"> @ Cars.com (Remote)</span>
          </h3>
          <p class="text-sm text-zinc-400 mt-1 mb-6">2019 – 2021</p>
          <h3>Software Engineer </h3>
          <p class="text-sm text-zinc-400 mt-1 mb-6">2017 – 2019</p>
          <ul class="relative pl-5 text-sm text-zinc-300 list-disc flex flex-col gap-4">
            <li>
              Promoted to Senior Software Engineer by delivering exceptional
              results and demonstrating leadership potential.
            </li>
            <li>
              Accelerated inventory placement tenfold with Elixir and
              Erlang/OTP, leveraging GenStage, Flow, and streaming
              technologies.
            </li>
            <li>
              Increased user engagement metrics by implementing the Elixir
              Phoenix Framework, enhancing search speed by 30% with
              Elasticsearch and Redis, and integrating third-party APIs
              for seamless data flow.
            </li>
            <li>
              Reduced post-launch issue resolution time as a co-author for
              specifications, design documents, and documentation.
            </li>
          </ul>
          <div class="w-full flex flex-wrap items-center mt-4 gap-2">
            <p class="text-xs bg-secondary/30 text-secondary rounded p-1 w-fit">
              Elixir
            </p>
            <p class="text-xs bg-secondary/30 text-secondary rounded p-1 w-fit">
              Erlang/OTP
            </p>
            <p class="text-xs bg-secondary/30 text-secondary rounded p-1 w-fit">
              GenStage
            </p>
            <p class="text-xs bg-secondary/30 text-secondary rounded p-1 w-fit">
              Flow
            </p>
            <p class="text-xs bg-secondary/30 text-secondary rounded p-1 w-fit">
              Elixir Phoenix Framework
            </p>
            <p class="text-xs bg-secondary/30 text-secondary rounded p-1 w-fit">
              Elasticsearch
            </p>
          </div>
        </div>

        <!-- MVPindex Tab -->
        <div class="tab-panel w-full p-4 hidden" data-tab="2" role="tabpanel" id="tab-panel-2" aria-labelledby="tab-2" style="transition: opacity 300ms ease-in-out; opacity: 0;">
          <h3>
            Software Engineer
            <span class="text-sixth">@ MVPindex - Dallas, TX</span>
          </h3>
          <p class="text-sm text-zinc-400 mt-1 mb-6">2017</p>
          <ul class="relative pl-5 text-sm text-zinc-300 list-disc flex flex-col gap-4">
            <li>
              Reduced processing times 15% using Node.js, Kafka, SQL,
              Elasticsearch, and AWS.
            </li>
            <li>
              Improved audience segmentation by collaborating with data
              scientists on Facebook data to develop advanced demographic
              models.
            </li>
            <li>
              Increased user acquisition and retention by integrating OAuth
              for multiple social media logins.
            </li>
          </ul>
          <div class="w-full flex flex-wrap items-center mt-4 gap-2">
            <p class="text-xs bg-secondary/30 text-secondary rounded p-1 w-fit">
              Node.js
            </p>
            <p class="text-xs bg-secondary/30 text-secondary rounded p-1 w-fit">
              Kafka
            </p>
            <p class="text-xs bg-secondary/30 text-secondary rounded p-1 w-fit">
              SQL
            </p>
            <p class="text-xs bg-secondary/30 text-secondary rounded p-1 w-fit">
              Elasticsearch
            </p>
            <p class="text-xs bg-secondary/30 text-secondary rounded p-1 w-fit">
              AWS
            </p>
          </div>
        </div>

        <!-- ZEFR Tab -->
        <div class="tab-panel w-full p-4 hidden" data-tab="3" role="tabpanel" id="tab-panel-3" aria-labelledby="tab-3" style="transition: opacity 300ms ease-in-out; opacity: 0;">
          <h3>
            Software Engineer
            <span class="text-sixth">@ ZEFR - PROVO, UT</span>
          </h3>
          <p class="text-sm text-zinc-400 mt-1 mb-6">2015 - 2017</p>
          <ul class="relative pl-5 text-sm text-zinc-300 list-disc flex flex-col gap-4">
            <li>
              Boosted collaboration among internal marketing teams and
              external partners by developing and deploying an Influencer
              Management System (IMS).
            </li>
            <li>
              Enhanced campaign insights by designing and implementing data
              extraction and analysis procedures to monitor daily social
              media posts from top influencers.
            </li>
            <li>
              Increased campaign engagement by 35% and reduced acquisition
              costs by optimizing targeting algorithms.
            </li>
          </ul>
        </div>

        <!-- Previous Roles Tab -->
        <div class="tab-panel w-full p-4 hidden" data-tab="4" role="tabpanel" id="tab-panel-4" aria-labelledby="tab-4" style="transition: opacity 300ms ease-in-out; opacity: 0;">
          <h3>
            Web Developer
            <span class="text-sixth">
              @ About Time Technologies, LLC
            </span>
          </h3>
          <p class="text-sm text-zinc-400 mt-1 mb-6">2014 - 2015</p>
          <h3>
            Technical Supervisor
            <span class="text-sixth">@ Bluehost</span>
          </h3>
          <p class="text-sm text-zinc-400 mt-1 mb-6">2012 - 2014</p>
        </div>

        <!-- Education Tabs -->
        <div class="tab-panel w-full p-4 hidden" data-tab="5" role="tabpanel" id="tab-panel-5" aria-labelledby="tab-5" style="transition: opacity 300ms ease-in-out; opacity: 0;">
          <h3>
            Extended Studies Machine Learning Engineering Bootcamp
            <span class="text-sixth">@ UC San Diego (Online)</span>
          </h3>
          <p class="text-sm text-zinc-400 mt-1 mb-6">2025</p>
          <p class="relative pl-5 text-sm text-zinc-300 before:absolute before:top-0 before:left-0.5 before:content-['▹'] before:text-secondary">
            <span class="text-secondary">Relevant Coursework:</span>
            Deep Learning, Computer Vision and Image Processing, The Machine
            Learning Engineering Stack, ML Models at Scale and In
            Production, Deploying ML Systems
          </p>
        </div>

        <div class="tab-panel w-full p-4 hidden" data-tab="6" role="tabpanel" id="tab-panel-6" aria-labelledby="tab-6" style="transition: opacity 300ms ease-in-out; opacity: 0;">
          <h3>
            Certificate Of Completion, Full Stack Software Engineer
            <span class="text-sixth">@ DevMountain, Provo, UT</span>
          </h3>
          <p class="text-sm text-zinc-400 mt-1 mb-6">2015</p>
          <p class="relative pl-5 text-sm text-zinc-300 before:absolute before:top-0 before:left-0.5 before:content-['▹'] before:text-secondary">
            <span class="text-secondary">Relevant Coursework:</span>
            HTML 5 & CSS3, JavaScript, Git & GitHub, jQuery, AngularJS,
            Test-Driven Development, Node.JS, Databases
          </p>
        </div>

        <div class="tab-panel w-full p-4 hidden" data-tab="7" role="tabpanel" id="tab-panel-7" aria-labelledby="tab-7" style="transition: opacity 300ms ease-in-out; opacity: 0;">
          <h3>
            Coursework toward a Bachelor of Science (B.Sc.) In Computer
            Science
            <span class="text-sixth">@ Utah Valley University, Orem, UT</span>
          </h3>
          <p class="text-sm text-zinc-400 mt-1 mb-6">2011 - 2012</p>
        </div>
      </div>
    </div>
  </div>
  <div class="h-[3px] opacity-90 absolute -bottom-20 left-0 right-0 mx-auto w-32 rounded-md bg-tertiary seperation-animation-1"></div>
  <div class="absolute h-[3px] rounded-md -bottom-14 right-0 left-0 mx-auto w-48 bg-sixth opacity-90 seperation-animation-2"></div>
  <div class="h-[3px] absolute opacity-90 -bottom-8 left-0 right-0 w-40 mx-auto rounded-md bg-tertiary seperation-animation-3"></div>
</section>

<script>
  let currentTab = 0;
  let calculatedHeight = 0;

  const experienceContent = document.getElementById('experience-content');
  const tabButtons = document.querySelectorAll('.tab-button');
  const tabPanels = document.querySelectorAll('.tab-panel');
  const tabPill = document.getElementById('tab-pill');
  const tabContent = document.getElementById('tab-content');

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.remove('opacity-0', 'translate-y-52');
        entry.target.classList.add('opacity-100', 'translate-y-0');
      }
    });
  });

  if (experienceContent) {
    observer.observe(experienceContent);
  }

  function calculateOptimalHeight() {
    if (!tabContent || !tabPanels.length) return;

    let maxHeight = 0;

    tabPanels.forEach((panel) => {
      const panelElement = panel as HTMLElement;

      const wasHidden = panelElement.classList.contains('hidden');
      const currentOpacity = panelElement.style.opacity;

      panelElement.classList.remove('hidden');
      panelElement.style.opacity = '1';
      panelElement.style.position = 'static';

      panelElement.offsetHeight;
      const height = panelElement.scrollHeight;

      if (height > maxHeight) {
        maxHeight = height;
      }

      if (wasHidden) {
        panelElement.classList.add('hidden');
      }
      panelElement.style.opacity = currentOpacity;
      panelElement.style.position = '';
    });

    calculatedHeight = maxHeight + 20;
    tabContent.style.height = `${calculatedHeight}px`;

    return calculatedHeight;
  }

  function recalculateHeightOnResize() {
    if (tabContent && tabPanels.length) {
      calculateOptimalHeight();
    }
  }

  function switchTab(tabIndex: number) {
    if (currentTab === tabIndex) return;

    if (tabPill) {
      const targetButton = tabButtons[tabIndex] as HTMLElement;
      const pillContainer = tabPill.parentElement;

      if (targetButton && pillContainer) {
        const buttonRect = targetButton.getBoundingClientRect();
        const containerRect = pillContainer.getBoundingClientRect();

        const buttonTop = buttonRect.top - containerRect.top;
        const buttonHeight = buttonRect.height;
        const pillHeight = 44; // h-11 = 44px

        const centeredPosition = buttonTop + (buttonHeight - pillHeight) / 2;
        tabPill.style.setProperty('--pill-top', `${centeredPosition}px`);
      }
    }

    tabButtons.forEach((button, index) => {
      if (index === tabIndex) {
        button.classList.remove('text-white/70', 'hover:text-white');
        button.classList.add('text-white');
        button.setAttribute('aria-selected', 'true');
      } else {
        button.classList.remove('text-white');
        button.classList.add('text-white/70', 'hover:text-white');
        button.setAttribute('aria-selected', 'false');
      }
    });

    const currentPanel = tabPanels[currentTab] as HTMLElement;
    const targetPanel = tabPanels[tabIndex] as HTMLElement;

    if (currentPanel && targetPanel) {
      currentPanel.style.opacity = '0';

      setTimeout(() => {
        currentPanel.classList.add('hidden');
        targetPanel.classList.remove('hidden');
        targetPanel.style.opacity = '0';

        targetPanel.offsetHeight;

        setTimeout(() => {
          targetPanel.style.opacity = '1';
        }, 10);
      }, 150);
    }

    currentTab = tabIndex;
  }

  function setInitialPillPosition() {
    if (tabPill && tabButtons.length > 0) {
      const firstButton = tabButtons[0] as HTMLElement;
      const pillContainer = tabPill.parentElement;

      if (firstButton && pillContainer) {
        const buttonRect = firstButton.getBoundingClientRect();
        const containerRect = pillContainer.getBoundingClientRect();

        const buttonTop = buttonRect.top - containerRect.top;
        const buttonHeight = buttonRect.height;
        const pillHeight = 44; // h-11 = 44px

        const centeredPosition = buttonTop + (buttonHeight - pillHeight) / 2;
        tabPill.style.setProperty('--pill-top', `${centeredPosition}px`);
      }
    }
  }

  function updateCurrentPillPosition() {
    if (tabPill && tabButtons.length > 0) {
      const currentButton = tabButtons[currentTab] as HTMLElement;
      const pillContainer = tabPill.parentElement;

      if (currentButton && pillContainer) {
        const buttonRect = currentButton.getBoundingClientRect();
        const containerRect = pillContainer.getBoundingClientRect();

        const buttonTop = buttonRect.top - containerRect.top;
        const buttonHeight = buttonRect.height;
        const pillHeight = 44; // h-11 = 44px

        const centeredPosition = buttonTop + (buttonHeight - pillHeight) / 2;

        tabPill.style.transition = 'none';
        tabPill.style.setProperty('--pill-top', `${centeredPosition}px`);

        setTimeout(() => {
          tabPill.style.transition = 'transform 0.4s cubic-bezier(0.4, 0, 0.2, 1)';
        }, 50);
      }
    }
  }

  setTimeout(() => {
    setInitialPillPosition();
    calculateOptimalHeight();
  }, 100);

  let resizeTimeout: ReturnType<typeof setTimeout>;
  window.addEventListener('resize', () => {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(() => {
      updateCurrentPillPosition();
      recalculateHeightOnResize();
    }, 150);
  });

  tabButtons.forEach((button, index) => {
    button.addEventListener('click', () => {
      switchTab(index);
    });

    button.addEventListener('keydown', (e) => {
      const keyboardEvent = e as KeyboardEvent;
      let newIndex = index;

      switch (keyboardEvent.key) {
        case 'ArrowRight':
        case 'ArrowDown':
          keyboardEvent.preventDefault();
          newIndex = (index + 1) % tabButtons.length;
          break;
        case 'ArrowLeft':
        case 'ArrowUp':
          keyboardEvent.preventDefault();
          newIndex = (index - 1 + tabButtons.length) % tabButtons.length;
          break;
        case 'Home':
          keyboardEvent.preventDefault();
          newIndex = 0;
          break;
        case 'End':
          keyboardEvent.preventDefault();
          newIndex = tabButtons.length - 1;
          break;
        default:
          return;
      }

      (tabButtons[newIndex] as HTMLElement).focus();
      switchTab(newIndex);
    });
  });
</script>
