---
// 2025 Best Practice: Clean Prose Component for Markdown Rendering
// Uses Tailwind Typography plugin with minimal custom overrides
---

<div
  class="prose prose-invert max-w-none w-full min-w-0
         prose-sm sm:prose-base lg:prose-lg
         prose-h1:bg-gradient-to-r prose-h1:from-gray-100 prose-h1:to-gray-300
         prose-h1:bg-clip-text prose-h1:text-transparent prose-h1:font-bold
         prose-h1:break-words prose-h1:hyphens-auto
         prose-h2:text-blue-400 prose-h2:font-semibold prose-h2:tracking-tight
         prose-h2:break-words prose-h2:hyphens-auto
         prose-h3:text-yellow-400 prose-h3:font-semibold
         prose-h3:break-words prose-h3:hyphens-auto
         prose-h4:text-purple-400 prose-h4:font-semibold
         prose-h4:break-words prose-h4:hyphens-auto
         prose-h5:text-red-400 prose-h5:font-medium
         prose-h5:break-words prose-h5:hyphens-auto
         prose-h6:text-green-400 prose-h6:font-medium prose-h6:uppercase prose-h6:tracking-wide
         prose-h6:break-words prose-h6:hyphens-auto
         prose-p:text-gray-300 prose-p:leading-relaxed
         prose-p:break-words prose-p:hyphens-auto
         prose-a:text-blue-400 prose-a:no-underline prose-a:font-medium
         prose-a:break-words
         hover:prose-a:border-b hover:prose-a:border-blue-400 hover:prose-a:-translate-y-px
         prose-strong:text-gray-100 prose-strong:font-bold
         prose-strong:break-words
         prose-em:text-yellow-400 prose-em:italic
         prose-em:break-words
         prose-code:text-yellow-400 prose-code:px-1.5 prose-code:py-0.5
         prose-code:rounded prose-code:text-sm prose-code:font-medium
         prose-code:break-words prose-code:hyphens-auto
         prose-pre:bg-gradient-to-br prose-pre:from-gray-900 prose-pre:to-gray-800
         prose-pre:border prose-pre:border-gray-600 prose-pre:rounded-lg prose-pre:shadow-lg
         prose-pre:overflow-x-auto prose-pre:max-w-full prose-pre:w-full
         prose-blockquote:border-l-4 prose-blockquote:border-blue-400 prose-blockquote:bg-blue-900/10
         prose-blockquote:italic prose-blockquote:text-gray-300 prose-blockquote:rounded-r-lg
         prose-blockquote:break-words prose-blockquote:hyphens-auto
         prose-ul:text-gray-300 prose-ul:break-words
         prose-ol:text-gray-300 prose-ol:break-words
         prose-li:marker:text-blue-400 prose-li:break-words
         prose-table:border prose-table:border-gray-600 prose-table:rounded-lg prose-table:overflow-hidden
         prose-table:w-full prose-table:max-w-full
         prose-th:bg-gray-800 prose-th:text-gray-100 prose-th:font-semibold
         prose-th:break-words prose-th:hyphens-auto
         prose-td:border-gray-600 prose-td:text-gray-300
         prose-td:break-words prose-td:hyphens-auto
         prose-img:rounded-lg prose-img:shadow-lg prose-img:max-w-full prose-img:h-auto
         prose-hr:border-gray-600">
  <slot />
</div>

<style>
  /* Mobile-First Responsive Design - Focus on sub-600px viewport */
  .prose {
    /* Essential mobile responsiveness */
    width: 100% !important;
    min-width: 0 !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
    overflow-wrap: break-word !important;
    word-wrap: break-word !important;
    hyphens: auto !important;

    /* Prevent horizontal overflow */
    overflow-x: hidden !important;
    overflow-y: visible !important;
  }

  /* All text elements must wrap properly on mobile */
  .prose h1,
  .prose h2,
  .prose h3,
  .prose h4,
  .prose h5,
  .prose h6,
  .prose p,
  .prose div,
  .prose span,
  .prose a,
  .prose strong,
  .prose em,
  .prose li,
  .prose td,
  .prose th,
  .prose blockquote {
    max-width: 100% !important;
    overflow-wrap: break-word !important;
    word-wrap: break-word !important;
    hyphens: auto !important;
    word-break: break-word !important;
  }

  /* Code block exception - horizontal scrolling allowed */
  .prose pre {
    overflow-x: auto !important;
    overflow-y: visible !important;
    max-width: 100% !important;
    width: 100% !important;
    box-sizing: border-box !important;
    -webkit-overflow-scrolling: touch !important;
    scroll-behavior: smooth !important;

    /* Ensure code blocks don't break layout */
    margin-left: 0 !important;
    margin-right: 0 !important;
  }

  .prose pre code {
    overflow: visible !important;
    white-space: pre !important;
    word-break: normal !important;
    overflow-wrap: normal !important;
    hyphens: none !important;
  }

  /* Inline code should wrap */
  .prose code:not(pre code) {
    word-break: break-word !important;
    overflow-wrap: break-word !important;
    hyphens: auto !important;
    white-space: normal !important;
  }

  /* Tables should be responsive */
  .prose table {
    width: 100% !important;
    max-width: 100% !important;
    table-layout: auto !important;
    overflow-x: auto !important;
    display: block !important;
    white-space: nowrap !important;
  }

  .prose thead,
  .prose tbody,
  .prose tr {
    display: table !important;
    width: 100% !important;
    table-layout: fixed !important;
  }

  /* Images should be responsive */
  .prose img {
    max-width: 100% !important;
    height: auto !important;
    width: auto !important;
  }

  /* External link indicator */
  .prose a[href^="http"]:not([href*="localhost"])::after {
    content: "â†—";
    font-size: 0.75em;
    margin-left: 0.25em;
    opacity: 0.7;
  }

  /* Critical: Sub-600px mobile breakpoint */
  @media (max-width: 599px) {
    .prose {
      font-size: 0.9rem !important;
      line-height: 1.5 !important;
      padding: 0 !important;
      margin: 0 !important;
    }

    .prose h1 {
      font-size: 1.5rem !important;
      line-height: 1.2 !important;
      margin-top: 0 !important;
      margin-bottom: 1rem !important;
    }

    .prose h2 {
      font-size: 1.25rem !important;
      line-height: 1.3 !important;
      margin-top: 1.5rem !important;
      margin-bottom: 0.75rem !important;
    }

    .prose h3 {
      font-size: 1.125rem !important;
      line-height: 1.3 !important;
      margin-top: 1.25rem !important;
      margin-bottom: 0.5rem !important;
    }

    .prose h4,
    .prose h5,
    .prose h6 {
      font-size: 1rem !important;
      line-height: 1.4 !important;
      margin-top: 1rem !important;
      margin-bottom: 0.5rem !important;
    }

    .prose p {
      margin-bottom: 1rem !important;
      line-height: 1.6 !important;
    }

    .prose pre {
      margin: 1rem -1rem !important;
      border-radius: 0 !important;
      padding: 0.75rem !important;
      font-size: 0.8rem !important;
    }

    .prose code:not(pre code) {
      font-size: 0.8rem !important;
      padding: 0.125rem 0.25rem !important;
    }

    .prose ul,
    .prose ol {
      padding-left: 1.25rem !important;
      margin: 1rem 0 !important;
    }

    .prose li {
      margin: 0.5rem 0 !important;
    }

    .prose blockquote {
      margin: 1rem 0 !important;
      padding: 0.75rem 1rem !important;
      font-size: 0.9rem !important;
    }

    .prose table {
      font-size: 0.8rem !important;
      margin: 1rem -1rem !important;
    }

    .prose th,
    .prose td {
      padding: 0.5rem 0.75rem !important;
    }
  }

  /* Additional mobile breakpoint for very small screens */
  @media (max-width: 400px) {
    .prose {
      font-size: 0.85rem !important;
    }

    .prose h1 {
      font-size: 1.375rem !important;
    }

    .prose h2 {
      font-size: 1.125rem !important;
    }

    .prose pre {
      font-size: 0.75rem !important;
      padding: 0.5rem !important;
    }
  }
</style>
